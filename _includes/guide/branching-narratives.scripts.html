<script id="page">
// (function () {
  'use strict';

  const highlightCode = () => {
    const $codeXML = document.getElementById( 'code-xml' );
    const $codeJSONLD = document.getElementById( 'code-json-ld' );
    const extraWhitespace12 = /\n\s{12}/gi;
    const closingTag = /\n\s*(<\/redblue-video>)/gi;

    if ( $codeXML ) {
      $codeXML.textContent = document.getElementById( 'redblue-branching-xml' ).outerHTML
        .replace( extraWhitespace12, '\n  ' )
        .replace( closingTag, '\n$1' )
      ;
    }

    if ( $codeJSONLD ) {
      $codeJSONLD.textContent = document.getElementById( 'redblue-branching-json-ld' ).outerHTML
        .replace( extraWhitespace12, '\n  ' )
        .replace( closingTag, '\n$1' )
      ;
    }

    hljs.initHighlighting();
  };
  const scrolled = false;
  const $tabLinks = document.getElementById( 'tab-links' );
  const $xmlTab = document.getElementById( 'xml' );
  const $jsonLdTab = document.getElementById( 'json-ld' );

  const scrollBack = function ( event ) {
    const offsets = [ window.pageXOffset, window.pageYOffset ];
    event.preventDefault();
    $xmlTab.classList.remove( 'tab--active' );
    $jsonLdTab.classList.remove( 'tab--active' );
    window.location.hash = ( event.target.getAttribute( 'href' ) || '' );
    window.scrollTo( offsets[0], offsets[1] );
  };

  if ( window.location.hash === '' ) {
    $xmlTab.classList.add( 'tab--active' );
  }

  $tabLinks.addEventListener( 'click', scrollBack, false );
  // window.addEventListener( 'hashchange', scrollBack, false );

  highlightCode();
// })();
</script>
<script type="module">
  import RedBlueVideo from '/src/redblue-video-omni.js';
  customElements.define( RedBlueVideo.is, RedBlueVideo );
</script>